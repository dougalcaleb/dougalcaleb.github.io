function addMovingBubble(e,b,s,l,o,i,u,t){e&&b&&s&&l&&!movingBubbles[l]&&(movingBubbles[l]={xvel:Math.cos(b)*-e,yvel:Math.sin(s)*-e,angle:b,id:l,x:o,y:i,sx:o,sy:i,stopped:0})}function animateBubble(){for(let e=0;e<mousescan.span;e++)for(let b=0;b<mousescan.span;b++){let s=stepx-offset+e,l=stepy-offset+b;if(null!=document.querySelector(".bubble-"+s+"-"+l)){let e=mousescan.mx-wrapSizeX-(s*bubbles.size+s*bubbles.space),b=mousescan.my-wrapSizeY-(l*bubbles.size+l*bubbles.space),o=Math.sqrt(Math.pow(e,2)+Math.pow(b,2));if(o<=mousescan.hyp){let o=Math.acos(e/mousescan.hyp),i=Math.asin(b/mousescan.hyp),u=s+"-"+l,t=(document.querySelector(".bubble-"+u).style.transform.split(", "),parseInt(document.querySelector(".bubble-"+u).style.left.slice(0,-2))),n=parseInt(document.querySelector(".bubble-"+u).style.top.slice(0,-2));addMovingBubble(forcefield.velocity*forcefield.vmult,o,i,u,t,n,e,b)}}}for(let e in movingBubbles){movingBubbles[e].xvel>0?movingBubbles[e].xvel-=bubbles.vdecel:movingBubbles[e].xvel<0&&(movingBubbles[e].xvel+=bubbles.vdecel),movingBubbles[e].yvel>0?movingBubbles[e].yvel-=bubbles.vdecel:movingBubbles[e].yvel<0&&(movingBubbles[e].yvel+=bubbles.vdecel),bubbles.xgrav&&(movingBubbles[e].x<movingBubbles[e].sx&&Math.abs(movingBubbles[e].x-movingBubbles[e].sx)>bubbles.pshutoff?movingBubbles[e].xvel+=bubbles.decel:movingBubbles[e].x>movingBubbles[e].sx&&Math.abs(movingBubbles[e].x-movingBubbles[e].sx)>bubbles.pshutoff?movingBubbles[e].xvel-=bubbles.decel:Math.abs(movingBubbles[e].xvel)<=bubbles.vshutoff&&Math.abs(movingBubbles[e].x-movingBubbles[e].sx)<bubbles.pshutoff&&(movingBubbles[e].xvel=0)),bubbles.ygrav&&(movingBubbles[e].y<movingBubbles[e].sy&&Math.abs(movingBubbles[e].y-movingBubbles[e].sy)>bubbles.pshutoff?movingBubbles[e].yvel+=bubbles.decel:movingBubbles[e].y>movingBubbles[e].sy&&Math.abs(movingBubbles[e].y-movingBubbles[e].sy)>bubbles.pshutoff?movingBubbles[e].yvel-=bubbles.decel:Math.abs(movingBubbles[e].yvel)<=bubbles.vshutoff&&Math.abs(movingBubbles[e].y-movingBubbles[e].sy)<bubbles.pshutoff&&(movingBubbles[e].yvel=0));let b=mousescan.mx-wrapSizeX-movingBubbles[e].x,s=mousescan.my-wrapSizeY-movingBubbles[e].y,l=Math.sqrt(Math.pow(b,2)+Math.pow(s,2)),o=Math.acos(b/mousescan.hyp),i=Math.asin(s/mousescan.hyp);l<mousescan.hyp&&(movingBubbles[e].xvel=Math.cos(o)*-forcefield.vmin,movingBubbles[e].yvel=Math.sin(i)*-forcefield.vmin);let u=movingBubbles[e].x+movingBubbles[e].xvel*frames.delta,t=movingBubbles[e].y+movingBubbles[e].yvel*frames.delta;document.querySelector(".bubble-"+movingBubbles[e].id).style.left=u+"px",document.querySelector(".bubble-"+movingBubbles[e].id).style.top=t+"px",movingBubbles[e].x+=movingBubbles[e].xvel*frames.delta,movingBubbles[e].y+=movingBubbles[e].yvel*frames.delta,movingBubbles[e].yvel!=1/0&&movingBubbles[e].yvel!=-1/0||(movingBubbles[e].yvel=0,movingBubbles[e].y=movingBubbles[e].sy),movingBubbles[e].xvel!=1/0&&movingBubbles[e].xvel!=-1/0||(movingBubbles[e].xvel=0,movingBubbles[e].x=movingBubbles[e].sx),0===movingBubbles[e].yvel&&0===movingBubbles[e].xvel&&movingBubbles[e].stopped++,movingBubbles[e].stopped>bubbles.stopcount&&(document.querySelector(".bubble-"+movingBubbles[e].id).style.left=movingBubbles[e].sx+"px",document.querySelector(".bubble-"+movingBubbles[e].id).style.top=movingBubbles[e].sy+"px",delete movingBubbles[e])}frames.lastFrame=frames.currentFrame,frames.currentFrame=Date.now(),frames.delta=(frames.currentFrame-frames.lastFrame)/frames.baseTime,window.requestAnimationFrame(animateBubble)}function createBubbles(){wrap.style.height=bubbles.y*bubbles.size+bubbles.space*(bubbles.y-1)+"px",wrap.style.width=bubbles.x*bubbles.size+bubbles.space*(bubbles.x-1)+"px",forcefield.size=mousescan.span*(bubbles.size+bubbles.space),wrapSizeX=wrap.getBoundingClientRect().x,wrapSizeY=wrap.getBoundingClientRect().y,mousescan.hyp=forcefield.size/2+bubbles.size;for(let e=0;e<bubbles.activeBubbles.length;e++)for(let b=0;b<bubbles.activeBubbles[e].length;b++)if(!0===bubbles.activeBubbles[e][b]){let s=document.createElement("DIV");s.classList.add("bubble"),s.classList.add("bubble-"+e+"-"+b),s.style.willChange="transform";let l=e*bubbles.size+e*bubbles.space-bubbles.size/2+"px",o=b*bubbles.size+b*bubbles.space-bubbles.size/2+"px";s.style.left=l,s.style.top=o,s.style.height=bubbles.size+"px",s.style.width=bubbles.size+"px",wrap.appendChild(s)}}let bubbles={x:40,y:40,activeBubbles:places,size:12,space:12,color:"rgb(0,183,255)",active:"purple",radius:"100%",vshutoff:2,pshutoff:.8,decel:.5,vdecel:.15,stopcount:10,xgrav:!0,ygrav:!0},frames={baseTime:16.66,lastFrame:0,currentFrame:0,delta:1},mousescan={color:"green",span:5,size:0,half:0,hyp:0,mx:0,my:0},forcefield={vmult:2,vmin:10,boostmult:1.8,visible:!0,size:0,velocity:0,x1:0,y1:0,x2:0,y2:0};document.addEventListener("mousedown",function(){forcefield.vmult*=forcefield.boostmult,forcefield.vmin*=forcefield.boostmult}),document.addEventListener("mouseup",function(){forcefield.vmult/=forcefield.boostmult,forcefield.vmin/=forcefield.boostmult});let wrapSizeX,wrapSizeY,stepx,stepy,offset,movingBubbles={},wrap=document.querySelector(".showcase");wrap.addEventListener("mousemove",function(e){stepx=Math.round((e.clientX-wrapSizeX)/(bubbles.size+bubbles.space)),stepy=Math.round((e.clientY-wrapSizeY)/(bubbles.size+bubbles.space)),forcefield.x2=JSON.parse(JSON.stringify(forcefield.x1)),forcefield.y2=JSON.parse(JSON.stringify(forcefield.y1)),forcefield.x1={pos:e.clientX,time:Date.now()},forcefield.y1={pos:e.clientY,time:Date.now()},forcefield.velocity=Math.sqrt(Math.pow(forcefield.x1.pos-forcefield.x2.pos,2)+Math.pow(forcefield.y1.pos-forcefield.y2.pos,2))/(forcefield.x1.time-forcefield.x2.time),forcefield.velocity<forcefield.vmin&&(forcefield.velocity=forcefield.vmin/1),mousescan.mx=e.clientX,mousescan.my=e.clientY,offset=(mousescan.span-1)/2},!1),bubbles.size=window.innerWidth/160,bubbles.space=window.innerWidth/160,window.innerWidth>2e3&&(forcefield.vmin=12),createBubbles(),window.requestAnimationFrame(animateBubble);