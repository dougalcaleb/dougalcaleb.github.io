@use "ext";

// Elements

.popup-bg {
	height: 100%;
	width: 100%;
	z-index: 5;
	position: fixed;
	background: rgba(255,255,255,0.3);
}

.popup {
   transform: translate(300px, 300px);
   height: min(30vw, 300px);
   width: min(50vw, 500px);
   background: ext.$theme-gray;
   border-radius: 5px;
   box-shadow: 0px 0px 15px rgba(0, 0, 0, 1);
   position: absolute;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: space-around;
   .popup-drag-trigger {
      // background: orange;
      position: absolute;
      width: 100%;
      height: 10%;
      top: 0;
      z-index: 10;
      cursor: move
   }
   .popup-preview-wrap {
      width: 100%;
      display: flex;
      flex-direction: column;
      position: relative;
      align-items: center;
      .popup-preview {
         width: 80%;
         align-self: center;
         height: 50%;
         border-radius: 3px;
      }
      .popup-range-stop { // individial color stops
         --thumb-color: white;
         &::-webkit-slider-thumb {
            appearance: none;
            height: max(12px, min(1vw, 18px));
            width: max(12px, min(1vw, 18px));
            border-radius: 100%;
            background: var(--thumb-color);
         }
      }
      .popup-add-color-stop { // input used to capture 'add' events
         width: 80%;
         height: 25px;
         cursor: copy;
         appearance: none;
         background: transparent;
         &::-webkit-slider-runnable-track {
            appearance: none;
            background: transparent;
         }
         &::-webkit-slider-thumb {
            appearance: none;
            border-radius: 0;
            height: max(1vw, 10px);
            width: max(1vw, 10px);
            background: transparent;
         }
      }
   }
   input[type="range"]:not(.popup-add-color-stop) {
      width: 80%;
      position: absolute;
      top: calc(50% + 5px);
      appearance: none;
      background: transparent;
      &::-webkit-slider-runnable-track {
         appearance: none;
         border-radius: 100px;
         height: 0px;
         background: ext.$theme-gray;
      }
      &::-moz-range-track {
         appearance: none;
         background: transparent;
      }
      &::-moz-range-thumb {
         border: none;
         height: 15px;
         width: 15px;
      }
   }
   .popup-title {
      font-family: ext.$theme-font-title;
      color: ext.$theme-white;
      font-size: min(3vw, 30px);
   }
   .popup-button-wrap {
      display: flex;
      justify-content: space-evenly;
      width: 100%;
      button {
         border: none;
         font-family: ext.$theme-font-button;
         background: none;
         font-size: max(15px, min(0.9vw, 25px));
         cursor: pointer;
      }
      .popup-save {
         color: ext.$theme-blue-light;
      }
      .popup-cancel {
         color: ext.$theme-red-light;
      }
   }
}

#popup-stop-controls-wrap {
	border: 1px solid ext.$theme-blue-light;
	padding: 5px;
	background: ext.$theme-black-medium;
	border-radius: 5px;
	height: 50px;
	width: 100px;
	display: flex;
	div {
		flex: 1;
		position: relative;
		input {
			height: 100%;
			width: 100%;
			z-index: 10;
			position: relative;
			opacity: 0;
			cursor: pointer;
		}
		svg {
			height: 60%;
			@extend %center;
			filter: saturate(0) grayscale(1) brightness(.7) contrast(1000%) invert(1);
         cursor: pointer;
		}
	}
}

// Temp Classes

.popup-stop-selected {
	&::-webkit-slider-thumb {
		border: 2px solid white;
	}
	&::-moz-range-thumb {
		border: 2px solid white;
	}
}